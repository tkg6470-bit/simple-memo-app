---

###  **ðŸ“˜ é–‹ç™ºæ‰‹é †æ›¸ (Phase 1 & 2 å®Ÿç¸¾ç‰ˆ)**

ä»Šå›žç§ãŸã¡ãŒä¸€ç·’ã«ä¹—ã‚Šè¶Šãˆã¦ããŸæ‰‹é †ã®æ±ºå®šç‰ˆã§ã™ã€‚å†ç¾æ‰‹é †ã¨ã—ã¦éžå¸¸ã«ä¾¡å€¤ãŒã‚ã‚Šã¾ã™ã€‚

Markdown

\# ðŸ“˜ ãƒ¡ãƒ¢ã‚¢ãƒ—ãƒªé–‹ç™ºæ‰‹é †æ›¸ (Phase 1 & 2: åŸºç¤Žæ§‹ç¯‰ç·¨)

æœ¬æ‰‹é †æ›¸ã¯ã€Docker ã¨ Dev Containers ã‚’æ´»ç”¨ã—ã€ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒï¼ˆMacï¼‰ã‚’æ±šã•ãšã«ãƒ•ãƒ«ã‚¹ã‚¿ãƒƒã‚¯ã‚¢ãƒ—ãƒªã‚’æ§‹ç¯‰ã—ãŸè¨˜éŒ²ã§ã‚ã‚‹ã€‚

\#\# âœ… 1\. äº‹å‰æº–å‚™ (Prerequisites)

\* **\*\*PC\*\***: Mac (Apple Silicon M1/M2/M3 æŽ¨å¥¨)  
\* **\*\*å¿…é ˆãƒ„ãƒ¼ãƒ«\*\***:  
  \* Docker Desktop (ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ã§ã‚ã‚‹ã“ã¨)  
  \* Visual Studio Code  
  \* VS Code æ‹¡å¼µæ©Ÿèƒ½: \`Dev Containers\` (ms-vscode-remote.remote-containers)

\#\# ðŸ³ 2\. Docker ç’°å¢ƒã®æ§‹ç¯‰

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ«ãƒ¼ãƒˆã« \`docker-compose.yml\` ã‚’ä½œæˆã—ã€DB, Backend, Frontend ã®3ã¤ã®ã‚³ãƒ³ãƒ†ãƒŠã‚’å®šç¾©ã™ã‚‹ã€‚

\#\#\# **\*\*é‡è¦è¨­å®š:\*\***  
\* **\*\*Frontend\*\***: Viteç”¨ã«ãƒãƒ¼ãƒˆ \`5173\` ã‚’é–‹æ”¾ã€‚ãƒ›ãƒƒãƒˆãƒªãƒ­ãƒ¼ãƒ‰ç”¨ã« \`CHOKIDAR\_USEPOLLING=true\` ã‚’è¨­å®šã€‚  
\* **\*\*Backend\*\***: ãƒãƒ¼ãƒˆ \`8080\` ã‚’é–‹æ”¾ã€‚Prismaç”¨ã«DBæŽ¥ç¶šæƒ…å ±ã‚’ç’°å¢ƒå¤‰æ•°ã§æ¸¡ã™ã€‚  
\* **\*\*Command\*\***: ã‚³ãƒ³ãƒ†ãƒŠãŒè½ã¡ãªã„ã‚ˆã†ã« \`command: tail \-f /dev/null\` (ã¾ãŸã¯å¾…æ©Ÿã‚³ãƒžãƒ³ãƒ‰) ã‚’ä¸€æ™‚çš„ã«ä½¿ç”¨ã™ã‚‹å ´åˆãŒã‚ã‚‹ã€‚

\#\# ðŸ› ï¸ 3\. Backend ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (Prisma)

\#\#\# **\*\*3.1 ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«\*\***  
Dev Container å†…ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§å®Ÿè¡Œã™ã‚‹ã€‚  
\`\`\`bash  
npm install prisma @prisma/client typescript ts-node @types/node express @types/express cors @types/cors

### **3.2 Prisma åˆæœŸåŒ–ã¨è¨­å®š**

1. npx prisma init ã§ prisma ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆã€‚  
2. schema.prisma ã«ãƒ¢ãƒ‡ãƒ«å®šç¾©ï¼ˆMemoï¼‰ã‚’è¨˜è¿°ã€‚  
3. Dockerfile ã« OpenSSL (openssl, libssl) ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã‚³ãƒžãƒ³ãƒ‰ã‚’è¿½åŠ ï¼ˆAlpine Linuxå¯¾å¿œï¼‰ã€‚

### **3.3 ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³**

DBãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œæˆã™ã‚‹ã€‚

Bash

npx prisma migrate dev \--name init

## **âš›ï¸ 4\. Frontend ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (Vite \+ React)**

### **4.1 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ**

Macã‚’æ±šã•ãªã„ãŸã‚ã€DockerçµŒç”±ã§ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦é››å½¢ã‚’ä½œæˆã€‚

Bash

docker run \--rm \-v "$PWD":/app \-w /app node:20-alpine npm create vite@latest frontend \-- \--template react-ts

### **4.2 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®èª¿æ•´**

* vite.config.ts: server: { host: true } ã‚’è¿½åŠ ã—ã€ã‚³ãƒ³ãƒ†ãƒŠå¤–ã‹ã‚‰ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã€‚  
* package.json: ä¸è¦ãªä¾å­˜é–¢ä¿‚ (react-scriptsç­‰) ãŒãªã„ã‹ç¢ºèªã€‚

## **ðŸš€ 5\. Dev Containers ã®å°Žå…¥ (æœ€é‡è¦)**

Macã« Node.js ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã›ãšã€VS Code ã‚’ã‚³ãƒ³ãƒ†ãƒŠã«æŽ¥ç¶šã—ã¦é–‹ç™ºã™ã‚‹ã€‚

### **5.1 è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆ**

.devcontainer/devcontainer.json ã‚’ä½œæˆã€‚

JSON

{  
  "name": "Memo App Dev",  
  "dockerComposeFile": \["../docker-compose.yml"\],  
  "service": "frontend",  
  "workspaceFolder": "/app",  
  ...  
}

### **5.2 ã‚³ãƒ³ãƒ†ãƒŠã¸ã®æŽ¥ç¶š**

1. VS Code å·¦ä¸‹ã® \>\< ã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯ã€‚  
2. Reopen in Container ã‚’é¸æŠžã€‚  
3. æŽ¥ç¶šå¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ãŒ node âžœ /app $ ã«ãªã£ã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèªã€‚

### **5.3 æ¨©é™ã‚¨ãƒ©ãƒ¼ã®è§£æ¶ˆ (Troubleshooting)**

Dockerã§ç”Ÿæˆã•ã‚ŒãŸ node\_modules ãŒ root æ¨©é™ã«ãªã‚Šã€ç·¨é›†ã§ããªã„å ´åˆï¼š

1. **Macå´ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«**ã§ sudo rm \-rf frontend/node\_modules ã‚’å®Ÿè¡Œã—ã€å¼·åˆ¶å‰Šé™¤ã€‚  
2. **Dev Containerå†…**ã§ npm install ã‚’å†å®Ÿè¡Œã—ã€æ­£ã—ã„æ¨©é™ã§ä½œã‚Šç›´ã™ã€‚

## **ðŸ’» 6\. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å®Ÿè£…**

### **6.1 Backend (index.ts)**

* Expressã‚µãƒ¼ãƒãƒ¼ã‚’ç«‹ã¡ä¸Šã’ã€CORSã‚’è¨±å¯ã€‚  
* PrismaClient ã‚’ç”¨ã„ã¦ GET /memos, POST /memos, DELETE /memos/:id ã‚’å®Ÿè£…ã€‚

### **6.2 Frontend (App.tsx)**

* axios ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã€‚  
* useEffect ã§åˆå›žãƒ­ãƒ¼ãƒ‰æ™‚ã«ãƒ¡ãƒ¢ä¸€è¦§ã‚’å–å¾—ã€‚  
* ãƒ•ã‚©ãƒ¼ãƒ å…¥åŠ›å€¤ã‚’Stateã§ç®¡ç†ã—ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIã¸POSTé€ä¿¡ã€‚

## **ðŸŽ‰ 7\. å‹•ä½œç¢ºèª**

1. **Backend**: http://localhost:8080 (API)  
2. **Frontend**: http://localhost:5173 (UI)  
3. **Prisma Studio**: http://localhost:5556 (DBç®¡ç†ç”»é¢)

ã“ã‚Œã‚‰ãŒé€£æºã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ãƒ¡ãƒ¢ã®è¿½åŠ ãƒ»å‰Šé™¤ãŒã§ãã‚Œã°æ§‹ç¯‰å®Œäº†ã€‚

\---

ã“ã‚Œã‚‰ã‚’ä¿å­˜ã—ã¦ã€Gitã«ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¾ã—ã‚‡ã†ã€‚æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—ï¼ˆãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°ã‚„AIæ©Ÿèƒ½ï¼‰ã¸é€²ã‚€ãŸã‚ã®å®Œç’§ãªåœŸå°ã«ãªã‚Šã¾ã™ï¼  
