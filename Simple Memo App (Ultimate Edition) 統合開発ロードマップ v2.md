# **🚀 Simple Memo App (Ultimate Edition) 統合開発ロードマップ v2**

本ロードマップは、\*\*「Phase 2 までの MVP 実装（完了済み）」\*\*をベースに、インフラの刷新・バックエンドのモダン化・運用の高度化を行い、フルスタックエンジニアとしての市場価値を最大化するためのステップバイステップガイドである。

## ---

**✅ 【実績】Phase 0 〜 2: MVP 開発と機能実装 (Completed)**

ここまでのフェーズで、アプリケーションの核心となる機能の実装は完了しています。

### **【Phase 0】 環境構築 & Dev Containers 導入 (Environment)**

- **実装内容:**
  - **0-1. Docker 環境構築:** Docker Compose による Backend/Frontend/DB の一括管理。
  - **0-2. Dev Containers 導入:** VS Code をコンテナに接続し、完全な隔離開発環境を実現。

| 項目           | 詳細                                                                                             |
| :------------- | :----------------------------------------------------------------------------------------------- |
| **目的**       | チーム開発を見据え、OS に依存しない「再現性の高い開発環境」を構築する。                          |
| **メリット**   | ・Mac/Windows 問わず同じ環境で開発できる。 ・ローカル PC（Host）を汚さずに環境構築・破棄が可能。 |
| **デメリット** | ・Docker の仕組み（Volume, Network 等）を理解する学習コストがかかる。                            |

### **【Phase 1】 アプリケーションのモダン化・堅牢化 (Local)**

- **実装内容:**
  - **1-1. Prisma (ORM) 導入:** schema.prisma によるスキーマ管理。
  - **1-2. 基本 CRUD 機能:** React \+ Hono によるメモ帳機能。
  - **1-3. リファクタリング:** ロジック分割とディレクトリ整理。
  - **1-4. 環境変数管理 (.env):** 機密情報の分離。
  - **1-5. Express → Hono 移行:** Web 標準に準拠した軽量フレームワーク化。
  - **1-6. バリデーション (Zod):** 型安全な入力チェック。
  - **1-7. ユーザー認証 (Clerk):** 認証機能の実装。

| 項目           | 詳細                                                                                                                                |
| :------------- | :---------------------------------------------------------------------------------------------------------------------------------- |
| **目的**       | コードの保守性と堅牢性を高め、長期運用に耐えうる「型安全な基盤」を作る。                                                            |
| **メリット**   | ・Hono \+ Zod \+ Prisma により、開発体験（DX）と実行速度が向上する。 ・認証やバリデーションなど、必須セキュリティ機能を網羅できる。 |
| **デメリット** | ・Express に比べると Hono のナレッジはまだ少ない（が、公式ドキュメントで解決可能）。                                                |

### **【Phase 2】 AI・高度機能の実装 (Feature)**

- **実装内容:**
  - **2-1. 外部 AI 連携 (OpenAI API):** メモ要約機能。
  - **2-2. 画像アップロード (AWS S3):** 画像添付機能。
  - **2-3. ベクトル検索 (pgvector):** RAG（意味検索）の実装。

| 項目           | 詳細                                                                                                                                       |
| :------------- | :----------------------------------------------------------------------------------------------------------------------------------------- |
| **目的**       | 単なる CRUD アプリから脱却し、他の未経験者と差別化する「技術的難易度の高い機能」を実装する。                                               |
| **メリット**   | ・「AI × ベクトル検索」というトレンド技術の実装経験をアピールできる。 ・S3 署名付き URL など、実務的なクラウドストレージ操作を習得できる。 |
| **デメリット** | ・OpenAI API などの従量課金コストが発生する（開発時は少額）。                                                                              |

## ---

**🚧 【現在進行中】Phase 3: インフラ基盤の刷新 (Infrastructure)**

コストのかかる AWS 環境を一時凍結し、モダンで無料の PaaS (Render) & BaaS (Supabase) 環境へ移行し、DevOps の基礎を固めました。

- **3-1. AWS 設定の退避:** ✅ **完了**
  - 現在の infra/aws などを「設計済み資産」として温存。
- **3-2. Render & Supabase へのデプロイ** ✅ **完了**
  - **インフラ移行:** Web Service (Render) + PostgreSQL/Storage (Supabase) の構成で稼働。
  - **S3 互換対応:** Supabase Storage 用に `forcePathStyle: true` 設定およびポリシー修正を実施。
  - **メモリ最適化:** Node.js slim イメージ採用と `openssl` 追加による軽量化。
- **3-3. ビルド戦略の最適化 (Render 対策)** ✅ **完了**
  - Render 無料枠のメモリ不足回避のため、ローカルでビルド(`npm run build`)し、成果物(`dist`)を Git 管理してデプロイする戦略を採用。
- **3-4. GitHub Actions (CI):** 🟡 **次なるステップ**
  - プッシュ時に自動で Lint (Biome) やテストが走るワークフローを作成。

| 項目           | 詳細                                                                                                                                                               |
| :------------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **目的**       | 開発スピードを上げ、ランニングコストをゼロにする。PaaS 特有の制約（メモリ制限等）を回避する運用力を身につける。                                                    |
| **メリット**   | ・**完全無料**でポートフォリオを永続公開できる。 ・「Render + Supabase」というモダンな構成でのトラブルシューティング経験（OpenSSL, S3 互換設定）をアピールできる。 |
| **デメリット** | ・ビルド成果物（dist）を Git 管理するため、リポジトリサイズが若干大きくなる（許容範囲）。                                                                          |

## ---

**📅 【未来】Phase 4 〜 7: さらなる高度化**

### **【Phase 4】 バックエンドの進化 (Type Safety & Performance)**

- **技術:** Hono (RPC), Drizzle ORM, Zod, OpenAPI
- **目的:** End-to-End の型安全性と、サーバーレスに適した軽量化。
  - Prisma → **Drizzle ORM** へ移行（軽量化）。
  - API 定義を **Hono RPC** 化し、フロントエンドと型共有。
  - **OpenAPI (Swagger)** の自動生成。

### **【Phase 5】 柔軟な設計とマイクロサービス化 (Architecture)**

- **技術:** AWS Lambda, Serverless Framework, Adapter Pattern
- **目的:** 疎結合な設計能力と、デザインパターンの実践証明。
  - 重い処理（AI 要約）を **AWS Lambda** へ切り出し（マイクロサービス化）。
  - 画像保存先を切り替え可能な **Adapter パターン** の適用。

### **【Phase 6】 運用・品質向上 (Observability & Reliability)**

- **技術:** Redis (Upstash), Sentry, OpenTelemetry
- **目的:** キャッシュ戦略、エラー監視、可観測性といった商用レベルの運用スキルの証明。
  - **Redis** によるキャッシュとレート制限。
  - **Sentry** によるエラートラッキング。

### **【Phase 7】 コンテナオーケストレーション & ドキュメント (Mastery)**

- **技術:** Kubernetes (Local), Docker
- **目的:** インフラ技術の最高峰への挑戦と、思考プロセスの言語化。
  - **Kubernetes (Local)** でのマニフェスト作成と稼働確認。
  - **アーキテクチャ図**（理想 vs 現実）と技術選定理由のドキュメント化。
