// DBæ¥ç¶šè¨­å®š
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆç”Ÿæˆè¨­å®š
generator client {
  provider      = "prisma-client-js"
  // â†“â†“â†“ ã“ã“ã‚’è¿½åŠ ã—ã¾ã—ãŸï¼ â†“â†“â†“
  // Mac(arm64)ã‚„Docker(linux)ãªã©ã€è¤‡æ•°ã®ç’°å¢ƒã§å‹•ãã‚ˆã†ã«æŒ‡å®šã—ã¾ã™
  binaryTargets = ["native", "linux-musl-openssl-3.0.x", "linux-arm64-openssl-1.1.x", "debian-openssl-1.1.x", "debian-openssl-3.0.x"]
}

// ğŸ“ Memoãƒ¢ãƒ‡ãƒ«ã®å®šç¾©
model Memo {
  id        Int      @id @default(autoincrement())
  userId    String   @map("user_id") // Clerk ID
  title     String
  content   String
  imageUrl  String?  @map("image_url")
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt @map("updated_at")

  // OpenAIã®text-embedding-3-smallã¯1536æ¬¡å…ƒã§ã™
  embedding Unsupported("vector(1536)")? 

  @@map("memos")
}